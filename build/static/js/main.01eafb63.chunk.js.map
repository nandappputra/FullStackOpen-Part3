{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/AlertMessage.js","services/contactService.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","props","onSubmit","saveContact","newName","nameHandler","newNumber","numberHandler","type","Persons","persons","searchQuery","deleteHandler","filter","person","name","toLowerCase","includes","map","number","onClick","contactid","id","contactname","AlertMessage","message","alertStyle","color","fontStyle","fontSize","borderRadius","borderStyle","borderColor","padding","margin","error","style","baseUrl","contactService","getAllContacts","axios","get","then","resp","data","addContact","contact","post","deleteContact","delete","replaceContact","put","App","useState","setPersons","setNewName","setNewNumber","setSearchQuery","alertMessage","setAlertMessage","errorMessage","setErrorMessage","useEffect","res","event","target","preventDefault","checkName","already","forEach","alreadyExist","window","confirm","concat","catch","setTimeout","getAttribute","contactID","Number","a","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01eafb63.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({value,onChange}) => {\r\n    return(\r\n        <div>\r\n            Filter shown with\r\n            <input value={value} onChange={onChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.saveContact}>\r\n            <div> name: <input value={props.newName} onChange={props.nameHandler}/></div>\r\n            <div> number: <input value={props.newNumber} onChange={props.numberHandler}/></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from \"react\";\r\n\r\nconst Persons = ({persons,searchQuery,deleteHandler}) => {\r\n    return(\r\n        <>\r\n        {persons.filter( (person)=> person.name.toLowerCase().includes(searchQuery)).map( (person) =>\r\n            <div key={person.name} >{person.name} {person.number}\r\n                <button onClick={deleteHandler} contactid={person.id} contactname={person.name}>delete</button>\r\n            </div>\r\n          )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from \"react\";\r\n\r\nconst AlertMessage = ({message,error}) => {\r\n    const alertStyle = {\r\n        color:'green',\r\n        fontStyle:'italic',\r\n        fontSize:16,\r\n        borderRadius:5,\r\n        borderStyle:'solid',\r\n        borderColor:'green',\r\n        padding:10,\r\n        margin:10\r\n    }\r\n\r\n    if (error){\r\n        alertStyle.color='red'\r\n        alertStyle.borderColor='red'\r\n    }\r\n\r\n    if (message){\r\n        return(\r\n            <div style={alertStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    else{\r\n        return(\r\n            <>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AlertMessage","import axios from 'axios'\r\n\r\nlet baseUrl = '/api/persons'\r\n\r\nconst getAllContacts = () =>{\r\n    let req = axios.get(baseUrl)\r\n    return req.then((resp) => resp.data)\r\n  }\r\n\r\n  const addContact = (contact) =>{\r\n    let req = axios.post(baseUrl,contact)\r\n    return req.then((resp) => resp.data)\r\n  }\r\n\r\n  const deleteContact = (id) =>{\r\n    let req = axios.delete(baseUrl+`/${id}`)\r\n    return req.then((resp) => resp.data)\r\n  }\r\n\r\n  const replaceContact = (id,contact) =>{\r\n    let req = axios.put(baseUrl+`/${id}`,contact)\r\n    return req.then((resp) => resp.data)\r\n  }\r\n\r\n  let contactService = {getAllContacts, addContact, deleteContact, replaceContact}\r\n\r\n  export default contactService","import React, { useState,useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport AlertMessage from './components/AlertMessage'\n\nimport contactService from './services/contactService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  const [ newName, setNewName ]          = useState('')\n  const [ newNumber, setNewNumber ]      = useState('')\n  const [ searchQuery, setSearchQuery ]  = useState('')\n  const [ alertMessage, setAlertMessage] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(false)\n\n\n  const obtainContact = () => {\n    contactService.getAllContacts().then( (res) =>setPersons(res))\n  }\n\n  useEffect(obtainContact,[])\n\n  const nameHandler = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const numberHandler = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const deleteHandler = (event) => {\n    if(window.confirm(`Delete ${event.target.getAttribute('contactname')}?`)){\n      let contactID = Number(event.target.getAttribute('contactid'))\n      contactService.deleteContact(contactID).then( () =>{\n        let a=persons.filter( (person) => (person.id!==contactID))\n        setPersons(a)\n      })\n      \n    }\n  }\n\n  const updateSearch = (event) => {\n    setSearchQuery(event.target.value)\n  }\n  \n  const alreadyExist = (name) => {\n    let already=false\n    let id=0\n    persons.forEach( (person) => {\n      if (person.name === name){\n        already = true\n        id = person.id\n      }\n    } )\n    if (already){\n      return [true,id]\n    }\n    return [false, null]\n  }\n\n  const saveContact = (event) => {\n    event.preventDefault()\n    let checkName = alreadyExist(newName)\n    if (checkName[0]){\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        contactService.replaceContact(checkName[1],{name:newName, number:newNumber})\n          .then((res)=>{\n            setPersons(persons.filter((person)=>(person.name!==res.name)).concat(res))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch((res)=>{\n            setErrorMessage(true)\n            setAlertMessage(`Information of ${newName} has already been removed from the server`)\n            setTimeout(()=>{\n              setAlertMessage(null)\n              setErrorMessage(false)\n            },5000)\n          })\n      }\n    }\n    else{\n      contactService.addContact({name:newName, number:newNumber}).then( (res) => {\n        setPersons(persons.concat(res))\n        setAlertMessage(`Added ${newName}`)\n        setNewName('')\n        setNewNumber('')\n\n        setTimeout(()=>{setAlertMessage(null)},5000)\n\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <AlertMessage message={alertMessage} error={errorMessage} />\n      <Filter value={searchQuery} onChange={updateSearch}/>\n      <h2>Add a new</h2>\n      <PersonForm saveContact={saveContact} newName={newName} nameHandler={nameHandler} newNumber={newNumber} numberHandler={numberHandler} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} searchQuery={searchQuery} deleteHandler={deleteHandler} />\n    </div>\n  )\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}